import ltdtAverageWithLogNormCI from './src/ltdtAverageWithLogNormCI.mjs'

async function test() {

    let ltdt

    ltdt = [
        {
            'k': 0,
            'v': 6,
        },
        {
            'k': 1,
            'v': 47,
        },
        {
            'k': 2,
            'v': 49,
        },
        {
            'k': 3,
            'v': 15,
        },
        {
            'k': 4,
            'v': 42,
        },
        {
            'k': 5,
            'v': 41,
        },
        {
            'k': 6,
            'v': 7,
        },
        {
            'k': 7,
            'v': 39,
        },
        {
            'k': 8,
            'v': 43,
        },
        {
            'k': 9,
            'v': 40,
        },
        {
            'k': 10,
            'v': 36,
        },
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.95))
    // => [ 27.61505005489075, 26.794611985184275 ]

    ltdt = [
        {
            'k': 0,
            'v': 6,
        },
        {
            'k': 1,
            'v': 47,
        },
        {
            'k': 2,
            'v': 49,
        },
        {
            'k': 3,
            'v': 15,
        },
        {
            'k': 4,
            'v': 42,
        },
        {
            'k': 5,
            'v': 41,
        },
        {
            'k': 6,
            'v': 7,
        },
        {
            'k': 7,
            'v': 39,
        },
        {
            'k': 8,
            'v': 43,
        },
        {
            'k': 9,
            'v': 40,
        },
        {
            'k': 10,
            'v': 36,
        },
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.95, 'upper-tail'))
    // => 41.61093910287295

    ltdt = [
        {
            'k': 0,
            'v': 6,
        },
        {
            'k': 1,
            'v': 47,
        },
        {
            'k': 2,
            'v': 49,
        },
        {
            'k': 3,
            'v': 15,
        },
        {
            'k': 4,
            'v': 42,
        },
        {
            'k': 5,
            'v': 41,
        },
        {
            'k': 6,
            'v': 7,
        },
        {
            'k': 7,
            'v': 39,
        },
        {
            'k': 8,
            'v': 43,
        },
        {
            'k': 9,
            'v': 40,
        },
        {
            'k': 10,
            'v': 36,
        },
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.95, 'lower-tail'))
    // => 17.782212252959027

    ltdt = [
        {
            'k': 0,
            'v': 18.7261764705882,
        },
        {
            'k': 1,
            'v': 18.6629411764705,
        },
        {
            'k': 2,
            'v': 19.3983050847457,
        },
        {
            'k': 3,
            'v': 18.5099999999999,
        },
        {
            'k': 4,
            'v': 18.9986446886446,
        },
        {
            'k': 5,
            'v': 18.9083937823834,
        },
        {
            'k': 6,
            'v': 19.1957837837837,
        },
        {
            'k': 7,
            'v': 19.0423529411764,
        },
        {
            'k': 8,
            'v': 19.2320588235294,
        },
        {
            'k': 9,
            'v': 18.8526470588235,
        },
        {
            'k': 10,
            'v': 18.7982198952879,
        },
        {
            'k': 11,
            'v': 19.0423529411764,
        },
        {
            'k': 12,
            'v': 19.075,
        },
        {
            'k': 13,
            'v': 18.945238095238,
        },
        {
            'k': 14,
            'v': 20.6691240875912,
        },
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.95, 'upper-tail'))
    // => 19.286285749919724

    ltdt = [
        {
            'k': 0,
            'v': 6,
        },
        {
            'k': 1,
            'v': 47,
        },
        {
            'k': 2,
            'v': 49,
        },
        {
            'k': 3,
            'v': 15,
        },
        {
            'k': 4,
            'v': 42,
        },
        {
            'k': 5,
            'v': 41,
        },
        {
            'k': 6,
            'v': 7,
        },
        {
            'k': 7,
            'v': 39,
        },
        {
            'k': 8,
            'v': 43,
        },
        {
            'k': 9,
            'v': 40,
        },
        {
            'k': 10,
            'v': 36,
        },
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.25))
    // => [ 36.223415550160794, 20.426968024249575 ]

    ltdt = [
        {
            'k': 0,
            'v': 6,
        },
        {
            'k': 1,
            'v': 47,
        },
        {
            'k': 2,
            'v': 49,
        },
        {
            'k': 3,
            'v': 15,
        },
        {
            'k': 4,
            'v': 42,
        },
        {
            'k': 5,
            'v': 41,
        },
        {
            'k': 6,
            'v': 7,
        },
        {
            'k': 7,
            'v': 39,
        },
        {
            'k': 8,
            'v': 43,
        },
        {
            'k': 9,
            'v': 40,
        },
        {
            'k': 10,
            'v': 36,
        },
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.5))
    // => [ 32.05361593350727, 23.084277065875376 ]

    ltdt = [
        {
            'k': 0,
            'v': 6,
        },
        {
            'k': 1,
            'v': 47,
        },
        {
            'k': 2,
            'v': 49,
        },
        {
            'k': 3,
            'v': 15,
        },
        {
            'k': 4,
            'v': 42,
        },
        {
            'k': 5,
            'v': 41,
        },
        {
            'k': 6,
            'v': 7,
        },
        {
            'k': 7,
            'v': 39,
        },
        {
            'k': 8,
            'v': 43,
        },
        {
            'k': 9,
            'v': 40,
        },
        {
            'k': 10,
            'v': 36,
        },
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.75))
    // => [ 29.373829998565377, 25.19026464061302 ]

    ltdt = [
        {
            'k': 0,
            'v': 'abc'
        },
        {
            'k': 1,
            'v': '-2.5'
        },
        {
            'k': 2,
            'v': -2.5
        },
        {
            'k': 3,
            'v': '-1'
        },
        {
            'k': 4,
            'v': -1
        },
        {
            'k': 5,
            'v': '-0.1'
        },
        {
            'k': 6,
            'v': -0.1
        },
        {
            'k': 7,
            'v': '0'
        },
        {
            'k': 8,
            'v': 0
        },
        {
            'k': 9,
            'v': '0.1'
        },
        {
            'k': 10,
            'v': 0.1
        },
        {
            'k': 11,
            'v': '1'
        },
        {
            'k': 12,
            'v': 1
        },
        {
            'k': 13,
            'v': '2.5'
        },
        {
            'k': 14,
            'v': 2.5
        },
        {
            'k': 15,
            'v': 22.5
        },
        {
            'k': 16,
            'v': 'xyz'
        }
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.5))
    // => [ 1.7639684225556358, 0.624903238206194 ]

    ltdt = [
        {
            'k': 0,
            'v': 'abc'
        },
        {
            'k': 1,
            'v': '0'
        },
        {
            'k': 2,
            'v': 0
        },
        {
            'k': 3,
            'v': '0.1'
        },
        {
            'k': 4,
            'v': 0.1
        },
        {
            'k': 5,
            'v': '1'
        },
        {
            'k': 6,
            'v': 1
        },
        {
            'k': 7,
            'v': '2.5'
        },
        {
            'k': 8,
            'v': 2.5
        },
        {
            'k': 9,
            'v': 22.5
        },
        {
            'k': 10,
            'v': 'xyz'
        }
    ]
    console.log(await ltdtAverageWithLogNormCI(ltdt, 'v', 0.5))
    // => [ 1.7639684225556358, 0.624903238206194 ]

}
test()
    .catch((err) => {
        console.log(err)
    })

//node --experimental-modules --es-module-specifier-resolution=node g.mjs
